{"ast":null,"code":"var _jsxFileName = \"/home/shkwon/Projects/Learn_Ethereum/chapter10/DigitalArtERC721Token/dapp/src/MyWallet.js\";\nimport React from 'react';\nimport './App.css';\nimport AppNav from \"./AppNav\";\nimport { getWeb3, getInstance } from \"./Web3Util\";\n\nclass MyWallet extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = async () => {\n      const web3 = await getWeb3();\n      window.web3 = web3;\n      const contractInstance = await getInstance(web3);\n      window.user = (await web3.eth.getAccounts())[0];\n      const balanceInWei = await web3.eth.getBalance(window.user);\n      var balance = web3.utils.fromWei(balanceInWei, 'ether');\n      const networkId = await web3.eth.net.getId();\n      const networkType = await web3.eth.net.getNetworkType();\n      this.setState({\n        user: window.user\n      });\n      this.setState({\n        balance: balance\n      });\n      this.setState({\n        contractInstance: contractInstance\n      });\n      this.setState({\n        networkId: networkId\n      });\n      this.setState({\n        networkType: networkType\n      });\n      await this.loadMyDigitalArts(web3);\n    };\n\n    this.changeHandler = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      }, function () {});\n    };\n\n    this.state = {\n      hasData: false,\n      message: \"\",\n      rows: [],\n      columns: [],\n      tokenIds: [],\n      title: [],\n      desc: [],\n      price: [],\n      publishDate: [],\n      author: [],\n      image: [],\n      status: [],\n      total: 0,\n      user: '',\n      balance: 0,\n      contractInstance: '',\n      networkId: '',\n      networkType: '',\n      sellTokenId: '',\n      sellPrice: 0,\n      showModal: false\n    };\n    this.changeHandler = this.changeHandler.bind(this);\n  }\n\n  resetPendingArts() {\n    this.setState({\n      tokenIds: [],\n      title: [],\n      desc: [],\n      price: [],\n      publishDate: [],\n      author: [],\n      image: [],\n      status: [],\n      total: 0\n    });\n  }\n\n  async loadMyDigitalArts(web3) {\n    try {\n      let ids;\n      const result = await this.state.contractInstance.methods.findMyArts().call();\n      let _total = result.length;\n\n      if (_total > 0) {\n        let row;\n\n        if (_total <= 3) {\n          row = 1;\n        } else {\n          row = Math.ceil(_total / 3);\n        }\n\n        let columns = 3;\n        let rowArr = Array.apply(null, {\n          length: row\n        }).map(Number.call, Number);\n        let colArr = Array.apply(null, {\n          length: columns\n        }).map(Number.call, Number);\n        this.setState({\n          rows: rowArr,\n          columns: colArr\n        });\n        let _tokenIds = [],\n            _title = [],\n            _desc = [],\n            _price = [],\n            _publishDate = [],\n            _image = [],\n            _author = [],\n            _status = [];\n        let idx = 0;\n        this.resetPendingArts();\n\n        for (let i = 0; i < row; i++) {\n          for (let j = 0; j < columns; j++) {\n            if (idx < _total) {\n              let tokenId = result[idx];\n              const art = await this.state.contractInstance.methods.findArt(tokenId).call();\n              const priceInEther = web3.utils.fromWei(art[3], 'ether');\n\n              _tokenIds.push(art[0]);\n\n              _title.push(art[1]);\n\n              _desc.push(art[2]);\n\n              if (art[4] == 1) {\n                _status.push(\"In selling\");\n              } else {\n                _status.push(\"Publish\");\n              }\n\n              _price.push(priceInEther);\n\n              _publishDate.push(art[5]);\n\n              _image.push(art[9]);\n\n              _author.push(art[6]);\n            }\n\n            idx++;\n          }\n        }\n\n        this.setState({\n          tokenIds: _tokenIds,\n          title: _title,\n          desc: _desc,\n          price: _price,\n          publishDate: _publishDate,\n          author: _author,\n          status: _status,\n          image: _image,\n          total: _total\n        });\n        this.setState({\n          hasData: true\n        });\n      } else {\n        this.setState({\n          hasData: false\n        });\n      }\n    } catch (e) {\n      console.log('Error', e);\n    }\n  }\n\n  sellArt(tokenId) {\n    try {\n      //open  popup window\n      this.setState({\n        sellTokenId: tokenId,\n        showModal: true\n      });\n    } catch (e) {\n      console.log('Error', e);\n    }\n  }\n\n  async submitArtSell() {\n    try {\n      const priceInWei = window.web3.utils.toWei(this.state.sellPrice, 'ether');\n      await this.state.contractInstance.methods.resellArt(this.state.sellTokenId, priceInWei).send({\n        from: this.state.user,\n        gas: 6000000\n      });\n      window.location.reload();\n    } catch (e) {\n      console.log('Error', e);\n    }\n  }\n\n  render() {\n    if (this.state.hasData) {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(AppNav, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }), React.createElement(\"section\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row mb-3 mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-2 mb-md-0 mb-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-md-8 mb-md-0 mb-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-body \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-6 mb-md-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"font-weight-bold blue-grey-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \"My Address:\"), \" \", this.state.user), React.createElement(\"div\", {\n        className: \"col-md-6 mb-md-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"font-weight-bold blue-grey-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \"NetworkId:\"), \" \", this.state.networkId)), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-6 mb-md-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"font-weight-bold blue-grey-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, \"Balance:\"), \" \", this.state.balance, \" (ether)\"), React.createElement(\"div\", {\n        className: \"col-md-6 mb-md-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"font-weight-bold blue-grey-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, \"NetworkType:\"), \" \", this.state.networkType))))), React.createElement(\"div\", {\n        className: \"col-md-2 mb-md-0 mb-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      })), React.createElement(\"h5\", {\n        className: \"h5-responsive font-weight-bold text-center my-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, \"My Wallet Arts\"), React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, this.state.rows.map((row, i) => React.createElement(\"div\", {\n        className: \"row\",\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, this.state.columns.map((col, j) => React.createElement(\"div\", {\n        className: \"col-lg-4 col-md-12 mb-lg-0 mb-0\",\n        key: j,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, i * 3 + j < this.state.total && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"view overlay rounded z-depth-3 mb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"img-fluid\",\n        src: this.state.image[i * 3 + j],\n        alt: \"Sample\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      })), React.createElement(\"h6\", {\n        className: \"pink-text font-weight-bold mb-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-map pr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"font-weight-bold orange-text deep-orange-lighter-hover\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, \"TokenId: \", this.state.tokenIds[i * 3 + j]), React.createElement(\"h5\", {\n        className: \"font-weight-bold mb-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, \"Title: \", this.state.title[i * 3 + j]), React.createElement(\"div\", {\n        className: \"dark-grey-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, this.state.price[i * 3 + j], \" (ether)\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \"by \", React.createElement(\"span\", {\n        className: \"font-weight-bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, this.state.author[i * 3 + j]), \", \", this.state.publishDate[i * 3 + j]), React.createElement(\"p\", {\n        className: \"alert alert-primary dark-grey-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, this.state.desc[i * 3 + j]), this.state.status[i * 3 + j] === 'Publish' && React.createElement(\"button\", {\n        className: \"btn btn-pink btn-rounded btn-md\",\n        \"data-toggle\": \"modal\",\n        onClick: e => (e.preventDefault(), this.sellArt(this.state.tokenIds[i * 3 + j])),\n        \"data-target\": \".sell-modal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, this.state.status[i * 3 + j]))))))), React.createElement(\"div\", {\n        className: \"modal fade sell-modal \".concat(this.props.showModal ? 'show' : ''),\n        id: \"submitModal\",\n        tabIndex: \"-1\",\n        role: \"dialog\",\n        \"aria-labelledby\": \"submitModalLabel\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-dialog\",\n        role: \"document\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \"modal-title\",\n        id: \"myLabel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, \"Sell Art\"), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"close\",\n        \"data-dismiss\": \"modal\",\n        \"aria-label\": \"Close\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, \"\\xD7\"))), React.createElement(\"div\", {\n        className: \"modal-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"form-control mb-4\",\n        id: \"sellPrice\",\n        name: \"sellPrice\",\n        type: \"text\",\n        placeholder: \"Price (ether)\",\n        onChange: this.changeHandler,\n        value: this.state.sellPrice,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"modal-footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-secondary\",\n        \"data-dismiss\": \"modal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, \"Close\"), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary\",\n        \"data-dismiss\": \"modal\",\n        onClick: e => (e.preventDefault(), this.submitArtSell()),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, \"Submit\")))))));\n    } else {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, React.createElement(AppNav, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }), React.createElement(\"section\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row mb-3 mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-2 mb-md-0 mb-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-md-8 mb-md-0 mb-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-body \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-6 mb-md-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"font-weight-bold blue-grey-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, \"My Address:\"), \" \", this.state.user), React.createElement(\"div\", {\n        className: \"col-md-6 mb-md-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"font-weight-bold blue-grey-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, \"NetworkId:\"), \" \", this.state.networkId)), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-6 mb-md-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"font-weight-bold blue-grey-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, \"Balance:\"), \" \", this.state.balance, \" (ether)\"), React.createElement(\"div\", {\n        className: \"col-md-6 mb-md-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"font-weight-bold blue-grey-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, \"NetworkType:\"), \" \", this.state.networkType))))), React.createElement(\"div\", {\n        className: \"col-md-2 mb-md-0 mb-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }))));\n    }\n  }\n\n}\n\nexport default MyWallet;","map":{"version":3,"sources":["/home/shkwon/Projects/Learn_Ethereum/chapter10/DigitalArtERC721Token/dapp/src/MyWallet.js"],"names":["React","AppNav","getWeb3","getInstance","MyWallet","Component","constructor","props","componentDidMount","web3","window","contractInstance","user","eth","getAccounts","balanceInWei","getBalance","balance","utils","fromWei","networkId","net","getId","networkType","getNetworkType","setState","loadMyDigitalArts","changeHandler","event","target","name","value","state","hasData","message","rows","columns","tokenIds","title","desc","price","publishDate","author","image","status","total","sellTokenId","sellPrice","showModal","bind","resetPendingArts","ids","result","methods","findMyArts","call","_total","length","row","Math","ceil","rowArr","Array","apply","map","Number","colArr","_tokenIds","_title","_desc","_price","_publishDate","_image","_author","_status","idx","i","j","tokenId","art","findArt","priceInEther","push","e","console","log","sellArt","submitArtSell","priceInWei","toWei","resellArt","send","from","gas","location","reload","render","col","preventDefault"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport AppNav from \"./AppNav\";\nimport { getWeb3, getInstance } from \"./Web3Util\";\n\nclass MyWallet extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      hasData: false,\n      message: \"\",\n      rows: [],\n      columns: [],\n      tokenIds: [],\n      title: [],\n      desc: [],\n      price: [],\n      publishDate: [],\n      author: [],\n      image: [],\n      status: [],\n      total: 0,\n      user: '',\n      balance: 0,\n      contractInstance: '',\n      networkId: '',\n      networkType: '',\n      sellTokenId: '',\n      sellPrice: 0,\n      showModal: false\n    };\n    this.changeHandler = this.changeHandler.bind(this);\n  }\n  resetPendingArts() {\n    this.setState({\n      tokenIds: [],\n      title: [],\n      desc: [],\n      price: [],\n      publishDate: [],\n      author: [],\n      image: [],\n      status: [],\n      total: 0\n    });\n  }\n  componentDidMount = async () => {\n    const web3 = await getWeb3();\n    window.web3 = web3;\n    const contractInstance = await getInstance(web3);\n    window.user = (await web3.eth.getAccounts())[0];\n    const balanceInWei = await web3.eth.getBalance(window.user);\n    var balance = web3.utils.fromWei(balanceInWei, 'ether');\n    const networkId = await web3.eth.net.getId();\n    const networkType = await web3.eth.net.getNetworkType();\n    this.setState({ user: window.user });\n    this.setState({ balance: balance });\n    this.setState({ contractInstance: contractInstance });\n    this.setState({ networkId: networkId });\n    this.setState({ networkType: networkType });\n    await this.loadMyDigitalArts(web3);\n\n  }\n  async loadMyDigitalArts(web3) {\n    try {\n      let ids;\n      const result = await this.state.contractInstance.methods.findMyArts().call();\n      let _total = result.length;\n      if (_total > 0) {\n        let row;\n        if (_total <= 3) {\n          row = 1;\n        } else {\n          row = Math.ceil(_total / 3);\n        }\n        let columns = 3;\n        let rowArr = Array.apply(null, { length: row }).map(Number.call, Number);\n        let colArr = Array.apply(null, { length: columns }).map(Number.call, Number);\n        this.setState({ rows: rowArr, columns: colArr });\n        let _tokenIds = [], _title = [], _desc = [], _price = [], _publishDate = [], _image = [], _author = [], _status = [];\n        let idx = 0;\n        this.resetPendingArts();\n        for (let i = 0; i < row; i++) {\n          for (let j = 0; j < columns; j++) {\n            if (idx < _total) {\n              let tokenId = result[idx];\n              const art = await this.state.contractInstance.methods.findArt(tokenId).call();\n              const priceInEther = web3.utils.fromWei(art[3], 'ether');\n              _tokenIds.push(art[0]);\n              _title.push(art[1]);\n              _desc.push(art[2]);\n              if (art[4] == 1) {\n                _status.push(\"In selling\");\n              } else {\n                _status.push(\"Publish\");\n              }\n\n              _price.push(priceInEther);\n              _publishDate.push(art[5]);\n              _image.push(art[9]);\n              _author.push(art[6]);\n            }\n            idx++;\n          }\n        }\n\n        this.setState({\n          tokenIds: _tokenIds,\n          title: _title,\n          desc: _desc,\n          price: _price,\n          publishDate: _publishDate,\n          author: _author,\n          status: _status,\n          image: _image,\n          total: _total\n        });\n        this.setState({ hasData: true });\n      } else {\n        this.setState({ hasData: false });\n      }\n\n    } catch (e) { console.log('Error', e) }\n\n  }\n  changeHandler = event => {\n    this.setState({\n      [event.target.name]: event.target.value\n    }, function () { })\n  };\n  sellArt(tokenId) {\n    try {\n      //open  popup window\n      this.setState({ sellTokenId: tokenId, showModal: true });\n    } catch (e) { console.log('Error', e) }\n  };\n  async submitArtSell() {\n    try {\n      const priceInWei = window.web3.utils.toWei(this.state.sellPrice, 'ether');\n      await this.state.contractInstance.methods.resellArt(this.state.sellTokenId, priceInWei).send({\n        from: this.state.user, gas: 6000000\n      })\n      window.location.reload();\n    } catch (e) { console.log('Error', e) }\n  };\n  render() {\n    if (this.state.hasData) {\n      return (\n        <div className=\"App\">\n          <AppNav></AppNav>\n          <section className=\"text-center\">\n            <div className=\"row mb-3 mt-3\">\n              <div className=\"col-md-2 mb-md-0 mb-1\"></div>\n              <div className=\"col-md-8 mb-md-0 mb-1\">\n                <div className=\"card\">\n                  <div className=\"card-body \">\n                    <div className=\"row\">\n                      <div className=\"col-md-6 mb-md-0\">\n                        <span className=\"font-weight-bold blue-grey-text\">My Address:</span> {this.state.user}\n                      </div>\n                      <div className=\"col-md-6 mb-md-0\">\n                        <span className=\"font-weight-bold blue-grey-text\">NetworkId:</span> {this.state.networkId}\n                      </div>\n                    </div>\n                    <div className=\"row\">\n                      <div className=\"col-md-6 mb-md-0\">\n                        <span className=\"font-weight-bold blue-grey-text\">Balance:</span> {this.state.balance} (ether)\n                      </div>\n                      <div className=\"col-md-6 mb-md-0\">\n                        <span className=\"font-weight-bold blue-grey-text\">NetworkType:</span> {this.state.networkType}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"col-md-2 mb-md-0 mb-1\"></div>\n            </div>\n            <h5 className=\"h5-responsive font-weight-bold text-center my-3\">My Wallet Arts</h5>\n            <div className=\"container\">\n              {this.state.rows.map((row, i) =>\n                <div className=\"row\" key={i}>\n                  {this.state.columns.map((col, j) =>\n                    <div className=\"col-lg-4 col-md-12 mb-lg-0 mb-0\" key={j}>\n                      {i * 3 + j < this.state.total &&\n                        <div>\n                          <div className=\"view overlay rounded z-depth-3 mb-2\">\n                            <img className=\"img-fluid\" src={this.state.image[i * 3 + j]} alt=\"Sample\" />\n                          </div>\n                          <h6 className=\"pink-text font-weight-bold mb-1\"><i className=\"fas fa-map pr-2\"></i></h6>\n                          <div className=\"font-weight-bold orange-text deep-orange-lighter-hover\">TokenId: {this.state.tokenIds[i * 3 + j]}</div>\n                          <h5 className=\"font-weight-bold mb-1\">Title: {this.state.title[i * 3 + j]}</h5>\n                          <div className=\"dark-grey-text\">{this.state.price[i * 3 + j]} (ether)</div>\n                          <p>by <span className=\"font-weight-bold\">{this.state.author[i * 3 + j]}</span>, {this.state.publishDate[i * 3 + j]}</p>\n\n                          <p className=\"alert alert-primary dark-grey-text\">{this.state.desc[i * 3 + j]}</p>\n                          {this.state.status[i * 3 + j] === 'Publish' &&\n                            <button className=\"btn btn-pink btn-rounded btn-md\" data-toggle=\"modal\" onClick={e => (e.preventDefault(), this.sellArt(this.state.tokenIds[i * 3 + j]))} data-target=\".sell-modal\" >{this.state.status[i * 3 + j]}</button>\n                          }\n\n                        </div>\n                      }\n                    </div>\n\n                  )}\n                </div>\n              )}\n            </div>\n            <div className={`modal fade sell-modal ${this.props.showModal ? 'show' : ''}`} id=\"submitModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"submitModalLabel\" aria-hidden=\"true\">\n              <div className=\"modal-dialog\" role=\"document\">\n                <div className=\"modal-content\">\n                  <div className=\"modal-header\">\n                    <h5 className=\"modal-title\" id=\"myLabel\">Sell Art</h5>\n                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                      <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                  </div>\n                  <div className=\"modal-body\">\n                    <input className=\"form-control mb-4\" id=\"sellPrice\" name=\"sellPrice\" type=\"text\" placeholder=\"Price (ether)\" onChange={this.changeHandler} value={this.state.sellPrice} />\n                  </div>\n                  <div className=\"modal-footer\">\n                    <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n                    <button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\" onClick={e => (e.preventDefault(), this.submitArtSell())}>Submit</button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </section>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"App\">\n          <AppNav></AppNav>\n          <section className=\"text-center\">\n            <div className=\"row mb-3 mt-3\">\n              <div className=\"col-md-2 mb-md-0 mb-1\"></div>\n              <div className=\"col-md-8 mb-md-0 mb-1\">\n                <div className=\"card\">\n                  <div className=\"card-body \">\n                    <div className=\"row\">\n                      <div className=\"col-md-6 mb-md-0\">\n                        <span className=\"font-weight-bold blue-grey-text\">My Address:</span> {this.state.user}\n                      </div>\n                      <div className=\"col-md-6 mb-md-0\">\n                        <span className=\"font-weight-bold blue-grey-text\">NetworkId:</span> {this.state.networkId}\n                      </div>\n                    </div>\n                    <div className=\"row\">\n                      <div className=\"col-md-6 mb-md-0\">\n                        <span className=\"font-weight-bold blue-grey-text\">Balance:</span> {this.state.balance} (ether)\n                      </div>\n                      <div className=\"col-md-6 mb-md-0\">\n                        <span className=\"font-weight-bold blue-grey-text\">NetworkType:</span> {this.state.networkType}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"col-md-2 mb-md-0 mb-1\"></div>\n            </div>\n\n          </section>\n        </div>\n      );\n    }\n\n  }\n}\n\nexport default MyWallet;\n"]},"metadata":{},"sourceType":"module"}